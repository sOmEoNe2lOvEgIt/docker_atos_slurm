# File managed by puppet in module bullxbm-slurm

# list of gama slurm
NodeName=gslurm1 NodeAddr=slurmgw1.master.taranishpc.meteo.fr TmpDisk=8407 ThreadsPerCore=1 state=UNKNOWN
NodeName=gslurm2 NodeAddr=slurmgw2.master.taranishpc.meteo.fr TmpDisk=8407 ThreadsPerCore=1 state=UNKNOWN
NodeName=gslurm3 NodeAddr=slurmgw3.master.taranishpc.meteo.fr TmpDisk=8407 ThreadsPerCore=1 state=UNKNOWN
NodeName=gslurm4 NodeAddr=slurmgw4.master.taranishpc.meteo.fr TmpDisk=8407 ThreadsPerCore=1 state=UNKNOWN
NodeName=gslurm5 NodeAddr=slurmgw5.master.taranishpc.meteo.fr TmpDisk=8407 ThreadsPerCore=1 state=UNKNOWN

# gres
GresTypes=gpu
# list of nodes based on equipment profiles from ClusterDB
NodeName=taranisndl[0-2] Gres=gpu:4 RealMemory=512000 Procs=128 Sockets=8 CoresPerSocket=16 ThreadsPerCore=1 MemSpecLimit=10000
NodeName=taranisnmipt[0-11] RealMemory=512000 Procs=128 Sockets=8 CoresPerSocket=16 ThreadsPerCore=1 MemSpecLimit=10000
NodeName=taranis[0-2075,2088-2168,2181-2258,2271-2291] Procs=128 Sockets=8 CoresPerSocket=16 ThreadsPerCore=1 RealMemory=257263 MemSpecLimit=10000
NodeName=taranis[2076-2087,2169-2180,2259-2270] RealMemory=515310 Procs=128 Sockets=8 CoresPerSocket=16 ThreadsPerCore=1 MemSpecLimit=10000
NodeName=taranistransfert[0-9] RealMemory=127518 Procs=64
NodeName=taranislogin[0-5] RealMemory=515644 Procs=128

# list of partitions based on equipment profiles from ClusterDB

#taranis oper
PartitionName=normal256 Nodes=taranis[288-2075,2088-2168,2181-2258,2271-2288] MaxTime=24:00:00 State=UP OverSubscribe=Exclusive Default=YES AllowGroups=all
PartitionName=oper Nodes=taranis[0-287] MaxTime=24:00:00 State=UP OverSubscribe=Exclusive AllowGroups=all AllowAccounts=mxpt,cams50,shop
PartitionName=ibcell1 Nodes=taranis[288-575] MaxTime=24:00:00 State=UP OverSubscribe=Exclusive AllowGroups=all Default=NO PriorityTier=2
PartitionName=ibcell2 Nodes=taranis[576-863] MaxTime=24:00:00 State=UP OverSubscribe=Exclusive AllowGroups=all Default=NO PriorityTier=2
PartitionName=ibcell3 Nodes=taranis[864-1151] MaxTime=24:00:00 State=UP OverSubscribe=Exclusive AllowGroups=all Default=NO PriorityTier=2
PartitionName=ibcell4 Nodes=taranis[1152-1439] MaxTime=24:00:00 State=UP OverSubscribe=Exclusive AllowGroups=all Default=NO PriorityTier=2
PartitionName=ibcell5 Nodes=taranis[1440-1727] MaxTime=24:00:00 State=UP OverSubscribe=Exclusive AllowGroups=all Default=NO PriorityTier=2
PartitionName=ibcell6 Nodes=taranis[1728-2015] MaxTime=24:00:00 State=UP OverSubscribe=Exclusive AllowGroups=all Default=NO PriorityTier=2
PartitionName=ibcell7 Nodes=taranis[2016-2075,2088-2168,2181-2258,2271-2288] MaxTime=24:00:00 State=UP OverSubscribe=Exclusive AllowGroups=all Default=NO PriorityTier=2
PartitionName=normalAll Nodes=taranis[0-2291] MaxTime=INFINITE State=UP AllowGroups=bull,msys,mxpt Hidden=YES
PartitionName=transfert Nodes=taranistransfert[0-6] MaxTime=8:00:00 OverSubscribe=NO State=UP MaxCPUsPerNode=28 DefMemPerNode=4096 MaxMemPerCPU=4096 Priority=100 LLN=YES AllowGroups=all
PartitionName=transfext Nodes=taranistransfert[0-6] MaxTime=8:00:00 OverSubscribe=NO State=UP MaxCPUsPerNode=2 DefMemPerNode=4096 MaxMemPerCPU=4096 Priority=100 LLN=YES AllowGroups=ineris,msys,mpma
PartitionName=All Nodes=taranisndl[0-2],taranisnmipt[0-11],taranis[0-2075,2088-2168,2181-2258,2271-2291],taranis[2076-2087,2169-2180,2259-2270],taranistransfert[0-9],taranislogin[0-5] MaxTime=INFINITE State=UP AllowGroups=bull,msys,mxpt
PartitionName=ft-oper Nodes=taranistransfert[7-9] MaxTime=INFINITE OverSubscribe=NO State=UP MaxCPUsPerNode=30 DefMemPerNode=4096 MaxMemPerCPU=4096 Priority=100 LLN=YES AllowGroups=all AllowAccounts=mxpt,cams50,shop
PartitionName=huge512 Nodes=taranis[2076-2087,2169-2180,2259-2270] MaxTime=3-00:00:00 State=UP OverSubscribe=Exclusive AllowGroups=all DenyAccounts=shop,shom,csho
PartitionName=login Nodes=taranislogin[0-3] MaxTime=4:00:00 OverSubscribe=NO State=UP MaxCPUsPerNode=10 DefMemPerNode=4096 MaxMemPerCPU=4096 Priority=100 Hidden=YES LLN=YES AllowGroups=all
PartitionName=login-oper Nodes=taranislogin[4-5] MaxTime=4:00:00 OverSubscribe=NO State=UP MaxCPUsPerNode=10 DefMemPerNode=4096 MaxMemPerCPU=4096 Priority=10 Hidden=YES LLN=YES AllowGroups=all AllowAccounts=mxpt
PartitionName=ndl Nodes=taranisndl[0-2] MaxTime=24:00:00 State=UP AllowGroups=all
PartitionName=nmipt Nodes=taranisnmipt[0-11] MaxTime=8:00:00 State=UP AllowGroups=all MaxMemPerCPU=4096 DefMemPerCPU=4096
PartitionName=prevair Nodes=taranis[2289-2291] MaxTime=1-00:00:00 State=UP OverSubscribe=Exclusive AllowGroups=all AllowAccounts=ineris
PartitionName=ft-prevair Nodes=taranislogin[2-3] MaxTime=1-00:00:00 State=UP OverSubscribe=NO AllowGroups=all AllowAccounts=ineris
PartitionName=ibcell0 Nodes=taranis[0-287] MaxTime=24:00:00 State=INACTIVE OverSubscribe=Exclusive AllowGroups=all Default=NO PriorityTier=2

